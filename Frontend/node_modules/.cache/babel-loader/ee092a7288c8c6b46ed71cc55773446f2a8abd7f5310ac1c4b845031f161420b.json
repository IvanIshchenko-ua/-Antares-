{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./TransparencySection.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TransparencySection=()=>{const[sections,setSections]=useState([]);const[selectedSection,setSelectedSection]=useState(null);const[showModal,setShowModal]=useState(false);useEffect(()=>{loadTransparencySections();},[]);const loadTransparencySections=async()=>{try{const response=await fetch('http://localhost:5000/api/transparency');const data=await response.json();console.log('‚úÖ Transparency data:',data);if(Array.isArray(data)){setSections(data);}else{console.warn('‚ö†Ô∏è –û—á—ñ–∫—É–≤–∞–≤ –º–∞—Å–∏–≤, –æ—Ç—Ä–∏–º–∞–≤:',data);setSections([]);}}catch(error){console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–æ–∑–¥—ñ–ª—ñ–≤ –ø—Ä–æ–∑–æ—Ä–æ—Å—Ç—ñ:',error);setSections([]);}};const handleSectionClick=section=>{setSelectedSection(section);setShowModal(true);};const closeModal=()=>{setShowModal(false);setSelectedSection(null);};return/*#__PURE__*/_jsxs(\"section\",{id:\"transparency\",className:\"transparency-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"\\u041F\\u0440\\u043E\\u0437\\u043E\\u0440\\u0456\\u0441\\u0442\\u044C \\u0456 \\u0456\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0456\\u0439\\u043D\\u0430 \\u0432\\u0456\\u0434\\u043A\\u0440\\u0438\\u0442\\u0456\\u0441\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"transparency-grid\",children:sections.map(section=>/*#__PURE__*/_jsx(\"div\",{className:\"transparency-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:section.title}),/*#__PURE__*/_jsx(\"div\",{className:\"card-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-transparency\",onClick:()=>handleSectionClick(section),children:\"\\u0427\\u0438\\u0442\\u0430\\u0442\\u0438\"})})]})},section.id))})]}),showModal&&selectedSection&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title\",children:selectedSection.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[selectedSection.content?/*#__PURE__*/_jsx(\"div\",{className:\"transparency-content\",dangerouslySetInnerHTML:{__html:selectedSection.content}}):/*#__PURE__*/_jsx(\"p\",{className:\"no-content\",children:\"\\u0406\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0456\\u044F \\u0431\\u0443\\u0434\\u0435 \\u0434\\u043E\\u0434\\u0430\\u043D\\u0430 \\u043D\\u0430\\u0439\\u0431\\u043B\\u0438\\u0436\\u0447\\u0438\\u043C \\u0447\\u0430\\u0441\\u043E\\u043C.\"}),selectedSection.documents&&selectedSection.documents.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"documents-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0438:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"documents-list\",children:selectedSection.documents.map((doc,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"document-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"document-icon\",children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"a\",{href:doc.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"document-link\",children:doc.name})]},index))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-close-modal\",onClick:closeModal,children:\"\\u0417\\u0430\\u043A\\u0440\\u0438\\u0442\\u0438\"})})]})})]});};export default TransparencySection;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","TransparencySection","sections","setSections","selectedSection","setSelectedSection","showModal","setShowModal","loadTransparencySections","response","fetch","data","json","console","log","Array","isArray","warn","error","handleSectionClick","section","closeModal","id","className","children","map","title","onClick","e","stopPropagation","content","dangerouslySetInnerHTML","__html","documents","length","doc","index","href","url","target","rel","name"],"sources":["/Users/ivanisenko/Desktop/Narnia/—Ä–æ–±–æ—Ç–∞/–ù–µ –∑–∞–∫—ñ–Ω—á–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏/–ú–∞–º–∞ –ø—Ä–æ–µ–∫—Ç —à–∫–æ–ª–∞/-Antares-/Frontend/src/components/site/TransparencySection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './TransparencySection.css';\n\nconst TransparencySection = () => {\n  const [sections, setSections] = useState([]);\n  const [selectedSection, setSelectedSection] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\nuseEffect(() => {\n  loadTransparencySections();\n}, []);\n\nconst loadTransparencySections = async () => {\n  try {\n    const response = await fetch('http://localhost:5000/api/transparency');\n    const data = await response.json();\n    console.log('‚úÖ Transparency data:', data);\n    if (Array.isArray(data)) {\n      setSections(data);\n    } else {\n      console.warn('‚ö†Ô∏è –û—á—ñ–∫—É–≤–∞–≤ –º–∞—Å–∏–≤, –æ—Ç—Ä–∏–º–∞–≤:', data);\n      setSections([]);\n    }\n  } catch (error) {\n    console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–æ–∑–¥—ñ–ª—ñ–≤ –ø—Ä–æ–∑–æ—Ä–æ—Å—Ç—ñ:', error);\n    setSections([]);\n  }\n};\n\n  const handleSectionClick = (section) => {\n    setSelectedSection(section);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setSelectedSection(null);\n  };\n\n  return (\n    <section id=\"transparency\" className=\"transparency-section\">\n      <div className=\"container\">\n        <h2 className=\"section-title\">–ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å —ñ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç—ñ—Å—Ç—å</h2>\n        <div className=\"transparency-grid\">\n          {sections.map(section => (\n            <div key={section.id} className=\"transparency-card\">\n              <div className=\"card-body\">\n                <h3 className=\"card-title\">{section.title}</h3>\n                <div className=\"card-actions\">\n                  <button \n                    className=\"btn-transparency\"\n                    onClick={() => handleSectionClick(section)}\n                  >\n                    –ß–∏—Ç–∞—Ç–∏\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ */}\n      {showModal && selectedSection && (\n        <div className=\"modal-overlay\" onClick={closeModal}>\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3 className=\"modal-title\">{selectedSection.title}</h3>\n            </div>\n            <div className=\"modal-body\">\n              {selectedSection.content ? (\n                <div \n                  className=\"transparency-content\"\n                  dangerouslySetInnerHTML={{ __html: selectedSection.content }}\n                />\n              ) : (\n                <p className=\"no-content\">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –±—É–¥–µ –¥–æ–¥–∞–Ω–∞ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.</p>\n              )}\n              \n              {selectedSection.documents && selectedSection.documents.length > 0 && (\n                <div className=\"documents-section\">\n                  <h4>–î–æ–∫—É–º–µ–Ω—Ç–∏:</h4>\n                  <div className=\"documents-list\">\n                    {selectedSection.documents.map((doc, index) => (\n                      <div key={index} className=\"document-item\">\n                        <span className=\"document-icon\">üìÑ</span>\n                        <a \n                          href={doc.url} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\"\n                          className=\"document-link\"\n                        >\n                          {doc.name}\n                        </a>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n            <div className=\"modal-footer\">\n              <button className=\"btn-close-modal\" onClick={closeModal}>\n                –ó–∞–∫—Ä–∏—Ç–∏\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default TransparencySection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}