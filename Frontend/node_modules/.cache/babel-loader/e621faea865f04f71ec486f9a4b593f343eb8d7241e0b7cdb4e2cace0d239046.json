{"ast":null,"code":"import api from './api';\nconst galleryService = {\n  // Отримати всі фото галереї\n  getGalleryImages: async () => {\n    try {\n      const response = await api.get('/gallery');\n      return response.data;\n    } catch (error) {\n      console.error('Помилка отримання фото:', error);\n      // Якщо API не доступне, повертаємо тестові дані\n      return {\n        images: [{\n          id: 1,\n          title: 'Урок гри на фортепіано',\n          description: 'Заняття з учнями',\n          image_url: '/img/gallery1.jpg',\n          category: 'classes'\n        }, {\n          id: 2,\n          title: 'Малювання аквареллю',\n          description: 'Художній гурток',\n          image_url: '/img/gallery2.jpg',\n          category: 'classes'\n        }]\n      };\n    }\n  },\n  // Завантажити нове фото\n  uploadGalleryImage: async formData => {\n    try {\n      console.log('Початок завантаження фото...');\n\n      // Спочатку завантажуємо файл\n      const uploadResponse = await api.post('/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      console.log('Файл завантажено:', uploadResponse.data);\n\n      // Потім створюємо запис в галереї\n      const imageData = {\n        title: formData.get('title'),\n        description: formData.get('description'),\n        image_url: uploadResponse.data.url\n      };\n      console.log('Створюємо запис в галереї:', imageData);\n      const galleryResponse = await api.post('/gallery', imageData);\n      return galleryResponse.data;\n    } catch (error) {\n      console.error('Помилка завантаження фото:', error);\n      throw error;\n    }\n  },\n  // Видалити фото\n  deleteGalleryImage: async imageId => {\n    try {\n      const response = await api.delete(`/gallery/${imageId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Помилка видалення фото:', error);\n      throw error;\n    }\n  },\n  // Оновити інформацію про фото\n  updateGalleryImage: async (imageId, data) => {\n    try {\n      const response = await api.put(`/gallery/${imageId}`, data);\n      return response.data;\n    } catch (error) {\n      console.error('Помилка оновлення фото:', error);\n      throw error;\n    }\n  }\n};\nexport default galleryService;","map":{"version":3,"names":["api","galleryService","getGalleryImages","response","get","data","error","console","images","id","title","description","image_url","category","uploadGalleryImage","formData","log","uploadResponse","post","headers","imageData","url","galleryResponse","deleteGalleryImage","imageId","delete","updateGalleryImage","put"],"sources":["/Users/ivanisenko/Desktop/Narnia/робота/Не закінчені проекти/Мама проект школа/-Antares-/Frontend/src/services/galleryService.js"],"sourcesContent":["import api from './api';\n\nconst galleryService = {\n  // Отримати всі фото галереї\n  getGalleryImages: async () => {\n    try {\n      const response = await api.get('/gallery');\n      return response.data;\n    } catch (error) {\n      console.error('Помилка отримання фото:', error);\n      // Якщо API не доступне, повертаємо тестові дані\n      return { \n        images: [\n          { \n            id: 1, \n            title: 'Урок гри на фортепіано',\n            description: 'Заняття з учнями',\n            image_url: '/img/gallery1.jpg',\n            category: 'classes'\n          },\n          { \n            id: 2, \n            title: 'Малювання аквареллю',\n            description: 'Художній гурток',\n            image_url: '/img/gallery2.jpg',\n            category: 'classes'\n          }\n        ] \n      };\n    }\n  },\n\n  // Завантажити нове фото\n  uploadGalleryImage: async (formData) => {\n    try {\n      console.log('Початок завантаження фото...');\n      \n      // Спочатку завантажуємо файл\n      const uploadResponse = await api.post('/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      console.log('Файл завантажено:', uploadResponse.data);\n\n      // Потім створюємо запис в галереї\n      const imageData = {\n        title: formData.get('title'),\n        description: formData.get('description'),\n        image_url: uploadResponse.data.url\n      };\n\n      console.log('Створюємо запис в галереї:', imageData);\n      \n      const galleryResponse = await api.post('/gallery', imageData);\n      return galleryResponse.data;\n    } catch (error) {\n      console.error('Помилка завантаження фото:', error);\n      throw error;\n    }\n  },\n\n  // Видалити фото\n  deleteGalleryImage: async (imageId) => {\n    try {\n      const response = await api.delete(`/gallery/${imageId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Помилка видалення фото:', error);\n      throw error;\n    }\n  },\n\n  // Оновити інформацію про фото\n  updateGalleryImage: async (imageId, data) => {\n    try {\n      const response = await api.put(`/gallery/${imageId}`, data);\n      return response.data;\n    } catch (error) {\n      console.error('Помилка оновлення фото:', error);\n      throw error;\n    }\n  }\n};\n\nexport default galleryService;"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,cAAc,GAAG;EACrB;EACAC,gBAAgB,EAAE,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAC,UAAU,CAAC;MAC1C,OAAOD,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C;MACA,OAAO;QACLE,MAAM,EAAE,CACN;UACEC,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,wBAAwB;UAC/BC,WAAW,EAAE,kBAAkB;UAC/BC,SAAS,EAAE,mBAAmB;UAC9BC,QAAQ,EAAE;QACZ,CAAC,EACD;UACEJ,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,qBAAqB;UAC5BC,WAAW,EAAE,iBAAiB;UAC9BC,SAAS,EAAE,mBAAmB;UAC9BC,QAAQ,EAAE;QACZ,CAAC;MAEL,CAAC;IACH;EACF,CAAC;EAED;EACAC,kBAAkB,EAAE,MAAOC,QAAQ,IAAK;IACtC,IAAI;MACFR,OAAO,CAACS,GAAG,CAAC,8BAA8B,CAAC;;MAE3C;MACA,MAAMC,cAAc,GAAG,MAAMjB,GAAG,CAACkB,IAAI,CAAC,SAAS,EAAEH,QAAQ,EAAE;QACzDI,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEFZ,OAAO,CAACS,GAAG,CAAC,mBAAmB,EAAEC,cAAc,CAACZ,IAAI,CAAC;;MAErD;MACA,MAAMe,SAAS,GAAG;QAChBV,KAAK,EAAEK,QAAQ,CAACX,GAAG,CAAC,OAAO,CAAC;QAC5BO,WAAW,EAAEI,QAAQ,CAACX,GAAG,CAAC,aAAa,CAAC;QACxCQ,SAAS,EAAEK,cAAc,CAACZ,IAAI,CAACgB;MACjC,CAAC;MAEDd,OAAO,CAACS,GAAG,CAAC,4BAA4B,EAAEI,SAAS,CAAC;MAEpD,MAAME,eAAe,GAAG,MAAMtB,GAAG,CAACkB,IAAI,CAAC,UAAU,EAAEE,SAAS,CAAC;MAC7D,OAAOE,eAAe,CAACjB,IAAI;IAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACAiB,kBAAkB,EAAE,MAAOC,OAAO,IAAK;IACrC,IAAI;MACF,MAAMrB,QAAQ,GAAG,MAAMH,GAAG,CAACyB,MAAM,CAAC,YAAYD,OAAO,EAAE,CAAC;MACxD,OAAOrB,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACAoB,kBAAkB,EAAE,MAAAA,CAAOF,OAAO,EAAEnB,IAAI,KAAK;IAC3C,IAAI;MACF,MAAMF,QAAQ,GAAG,MAAMH,GAAG,CAAC2B,GAAG,CAAC,YAAYH,OAAO,EAAE,EAAEnB,IAAI,CAAC;MAC3D,OAAOF,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACb;EACF;AACF,CAAC;AAED,eAAeL,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}