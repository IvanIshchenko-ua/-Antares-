{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Login from'./components/auth/Login';import Dashboard from'./components/dashboard/Dashboard';import Editor from'./components/editor/Editor';import{authService}from'./services/authService';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isAuthenticated,setIsAuthenticated]=useState(null);useEffect(()=>{// Перевіряємо чи користувач авторизований при завантаженні\nconst checkAuth=()=>{const authenticated=authService.isAuthenticated();setIsAuthenticated(authenticated);};checkAuth();},[]);// Показуємо завантаження поки не визначили стан аутентифікації\nif(isAuthenticated===null){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:/*#__PURE__*/_jsx(\"div\",{children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F...\"})});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!isAuthenticated?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/admin/dashboard\"})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/*\",element:isAuthenticated?/*#__PURE__*/_jsx(AdminLayout,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:isAuthenticated?\"/admin/dashboard\":\"/login\"})})]})})});}// Компонент для захищених маршрутів адмін-панелі\nconst AdminLayout=()=>{const handleLogout=()=>{authService.logout();window.location.href='/login';};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"header\",{style:{backgroundColor:'#1f2937',color:'white',padding:'1rem 2rem',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,fontSize:'1.5rem'},children:\"\\u0410\\u0434\\u043C\\u0456\\u043D-\\u043F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0448\\u043A\\u043E\\u043B\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{backgroundColor:'#ef4444',color:'white',border:'none',padding:'0.5rem 1rem',borderRadius:'4px',cursor:'pointer'},children:\"\\u0412\\u0438\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"editor/:pageName\",element:/*#__PURE__*/_jsx(Editor,{})}),/*#__PURE__*/_jsx(Route,{path:\"\",element:/*#__PURE__*/_jsx(Navigate,{to:\"dashboard\"})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Dashboard","Editor","authService","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","checkAuth","authenticated","style","display","justifyContent","alignItems","height","children","className","path","element","to","AdminLayout","handleLogout","logout","window","location","href","backgroundColor","color","padding","margin","fontSize","onClick","border","borderRadius","cursor"],"sources":["/Users/ivanisenko/Desktop/Narnia/робота/Не закінчені проекти/Мама проект школа/-Antares-/Frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './components/auth/Login';\nimport Dashboard from './components/dashboard/Dashboard';\nimport Editor from './components/editor/Editor';\nimport { authService } from './services/authService';\nimport './App.css';\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(null);\n\n  useEffect(() => {\n    // Перевіряємо чи користувач авторизований при завантаженні\n    const checkAuth = () => {\n      const authenticated = authService.isAuthenticated();\n      setIsAuthenticated(authenticated);\n    };\n\n    checkAuth();\n  }, []);\n\n  // Показуємо завантаження поки не визначили стан аутентифікації\n  if (isAuthenticated === null) {\n    return (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh' \n      }}>\n        <div>Завантаження...</div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route \n            path=\"/login\" \n            element={\n              !isAuthenticated ? <Login /> : <Navigate to=\"/admin/dashboard\" />\n            } \n          />\n          <Route \n            path=\"/admin/*\" \n            element={\n              isAuthenticated ? <AdminLayout /> : <Navigate to=\"/login\" />\n            } \n          />\n          <Route path=\"/\" element={<Navigate to={isAuthenticated ? \"/admin/dashboard\" : \"/login\"} />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\n// Компонент для захищених маршрутів адмін-панелі\nconst AdminLayout = () => {\n  const handleLogout = () => {\n    authService.logout();\n    window.location.href = '/login';\n  };\n\n  return (\n    <div>\n      {/* Простий хедер для адмінки */}\n      <header style={{\n        backgroundColor: '#1f2937',\n        color: 'white',\n        padding: '1rem 2rem',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      }}>\n        <h1 style={{ margin: 0, fontSize: '1.5rem' }}>Адмін-панель школи</h1>\n        <button\n          onClick={handleLogout}\n          style={{\n            backgroundColor: '#ef4444',\n            color: 'white',\n            border: 'none',\n            padding: '0.5rem 1rem',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          Вийти\n        </button>\n      </header>\n      \n      <Routes>\n        <Route path=\"dashboard\" element={<Dashboard />} />\n        <Route path=\"editor/:pageName\" element={<Editor />} />\n        <Route path=\"\" element={<Navigate to=\"dashboard\" />} />\n      </Routes>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,KAAK,KAAM,yBAAyB,CAC3C,MAAO,CAAAC,SAAS,KAAM,kCAAkC,CACxD,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,OAASC,WAAW,KAAQ,wBAAwB,CACpD,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAE5DC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAiB,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAAC,aAAa,CAAGT,WAAW,CAACM,eAAe,CAAC,CAAC,CACnDC,kBAAkB,CAACE,aAAa,CAAC,CACnC,CAAC,CAEDD,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,GAAIF,eAAe,GAAK,IAAI,CAAE,CAC5B,mBACEJ,IAAA,QAAKQ,KAAK,CAAE,CACVC,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,QAAQ,CACxBC,UAAU,CAAE,QAAQ,CACpBC,MAAM,CAAE,OACV,CAAE,CAAAC,QAAA,cACAb,IAAA,QAAAa,QAAA,CAAK,6EAAe,CAAK,CAAC,CACvB,CAAC,CAEV,CAEA,mBACEb,IAAA,CAACT,MAAM,EAAAsB,QAAA,cACLb,IAAA,QAAKc,SAAS,CAAC,KAAK,CAAAD,QAAA,cAClBX,KAAA,CAACV,MAAM,EAAAqB,QAAA,eACLb,IAAA,CAACP,KAAK,EACJsB,IAAI,CAAC,QAAQ,CACbC,OAAO,CACL,CAACZ,eAAe,cAAGJ,IAAA,CAACL,KAAK,GAAE,CAAC,cAAGK,IAAA,CAACN,QAAQ,EAACuB,EAAE,CAAC,kBAAkB,CAAE,CACjE,CACF,CAAC,cACFjB,IAAA,CAACP,KAAK,EACJsB,IAAI,CAAC,UAAU,CACfC,OAAO,CACLZ,eAAe,cAAGJ,IAAA,CAACkB,WAAW,GAAE,CAAC,cAAGlB,IAAA,CAACN,QAAQ,EAACuB,EAAE,CAAC,QAAQ,CAAE,CAC5D,CACF,CAAC,cACFjB,IAAA,CAACP,KAAK,EAACsB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEhB,IAAA,CAACN,QAAQ,EAACuB,EAAE,CAAEb,eAAe,CAAG,kBAAkB,CAAG,QAAS,CAAE,CAAE,CAAE,CAAC,EACxF,CAAC,CACN,CAAC,CACA,CAAC,CAEb,CAEA;AACA,KAAM,CAAAc,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBrB,WAAW,CAACsB,MAAM,CAAC,CAAC,CACpBC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CACjC,CAAC,CAED,mBACErB,KAAA,QAAAW,QAAA,eAEEX,KAAA,WAAQM,KAAK,CAAE,CACbgB,eAAe,CAAE,SAAS,CAC1BC,KAAK,CAAE,OAAO,CACdC,OAAO,CAAE,WAAW,CACpBjB,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAAe,CAC/BC,UAAU,CAAE,QACd,CAAE,CAAAE,QAAA,eACAb,IAAA,OAAIQ,KAAK,CAAE,CAAEmB,MAAM,CAAE,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAE,CAAAf,QAAA,CAAC,oGAAkB,CAAI,CAAC,cACrEb,IAAA,WACE6B,OAAO,CAAEV,YAAa,CACtBX,KAAK,CAAE,CACLgB,eAAe,CAAE,SAAS,CAC1BC,KAAK,CAAE,OAAO,CACdK,MAAM,CAAE,MAAM,CACdJ,OAAO,CAAE,aAAa,CACtBK,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,SACV,CAAE,CAAAnB,QAAA,CACH,gCAED,CAAQ,CAAC,EACH,CAAC,cAETX,KAAA,CAACV,MAAM,EAAAqB,QAAA,eACLb,IAAA,CAACP,KAAK,EAACsB,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEhB,IAAA,CAACJ,SAAS,GAAE,CAAE,CAAE,CAAC,cAClDI,IAAA,CAACP,KAAK,EAACsB,IAAI,CAAC,kBAAkB,CAACC,OAAO,cAAEhB,IAAA,CAACH,MAAM,GAAE,CAAE,CAAE,CAAC,cACtDG,IAAA,CAACP,KAAK,EAACsB,IAAI,CAAC,EAAE,CAACC,OAAO,cAAEhB,IAAA,CAACN,QAAQ,EAACuB,EAAE,CAAC,WAAW,CAAE,CAAE,CAAE,CAAC,EACjD,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}