{"ast":null,"code":"import React,{useState}from'react';import{Editor}from'@tinymce/tinymce-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditableElement=_ref=>{let{elementId,content,isEditing,onEditStart,onSave,onCancel,tag='div',className=''}=_ref;const[currentContent,setCurrentContent]=useState(content);const handleSave=()=>{onSave(currentContent);};const handleCancel=()=>{setCurrentContent(content);onCancel();};// –ü—Ä–æ—Å—Ç–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ –∫–æ–Ω—Ç–µ–Ω—Ç—É\nconst renderContent=()=>{const Tag=tag;return/*#__PURE__*/_jsx(Tag,{className:\"editable-element \".concat(className),onClick:onEditStart,dangerouslySetInnerHTML:{__html:content}});};// –†–µ–¥–∞–∫—Ç–æ—Ä –∑ TinyMCE\nconst renderEditor=()=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"editable-element-editor \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editor-toolbar\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"btn-save\",children:\"\\uD83D\\uDCBE \\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancel,className:\"btn-cancel\",children:\"\\u274C \\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\"})]}),/*#__PURE__*/_jsx(Editor,{apiKey:\"no-api-key\"// –ë–µ–∑ –∫–ª—é—á–∞ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è\n,value:currentContent,onEditorChange:setCurrentContent,init:{height:500,menubar:true,plugins:['advlist','autolink','lists','link','image','charmap','preview','anchor','searchreplace','visualblocks','code','fullscreen','insertdatetime','media','table','code','help','wordcount'],toolbar:'undo redo | blocks | bold italic underline | '+'alignleft aligncenter alignright alignjustify | '+'bullist numlist outdent indent | link image | '+'forecolor backcolor | table | code | fullscreen | help',content_style:'body { font-family:Helvetica,Arial,sans-serif; font-size:16px; line-height:1.6; } h1, h2, h3 { margin: 20px 0 10px 0; } p { margin: 10px 0; }',images_upload_handler:async blobInfo=>{return new Promise((resolve,reject)=>{// –ü—Ä–æ—Å—Ç–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –Ω–∞—à—É —Å–∏—Å—Ç–µ–º—É\nconst formData=new FormData();formData.append('image',blobInfo.blob(),blobInfo.filename());fetch('http://localhost:5000/api/upload',{method:'POST',body:formData}).then(response=>response.json()).then(data=>resolve(data.url)).catch(()=>reject('Upload failed'));});}}})]});};return isEditing?renderEditor():renderContent();};export default EditableElement;","map":{"version":3,"names":["React","useState","Editor","jsx","_jsx","jsxs","_jsxs","EditableElement","_ref","elementId","content","isEditing","onEditStart","onSave","onCancel","tag","className","currentContent","setCurrentContent","handleSave","handleCancel","renderContent","Tag","concat","onClick","dangerouslySetInnerHTML","__html","renderEditor","children","apiKey","value","onEditorChange","init","height","menubar","plugins","toolbar","content_style","images_upload_handler","blobInfo","Promise","resolve","reject","formData","FormData","append","blob","filename","fetch","method","body","then","response","json","data","url","catch"],"sources":["/Users/ivanisenko/Desktop/Narnia/—Ä–æ–±–æ—Ç–∞/–ù–µ –∑–∞–∫—ñ–Ω—á–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏/–ú–∞–º–∞ –ø—Ä–æ–µ–∫—Ç —à–∫–æ–ª–∞/-Antares-/Frontend/src/components/visual-editor/EditorToolbar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Editor } from '@tinymce/tinymce-react';\n\nconst EditableElement = ({ \n  elementId, \n  content, \n  isEditing, \n  onEditStart, \n  onSave, \n  onCancel,\n  tag = 'div',\n  className = ''\n}) => {\n  const [currentContent, setCurrentContent] = useState(content);\n\n  const handleSave = () => {\n    onSave(currentContent);\n  };\n\n  const handleCancel = () => {\n    setCurrentContent(content);\n    onCancel();\n  };\n\n  // –ü—Ä–æ—Å—Ç–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ –∫–æ–Ω—Ç–µ–Ω—Ç—É\n  const renderContent = () => {\n    const Tag = tag;\n    return (\n      <Tag \n        className={`editable-element ${className}`}\n        onClick={onEditStart}\n        dangerouslySetInnerHTML={{ __html: content }}\n      />\n    );\n  };\n\n  // –†–µ–¥–∞–∫—Ç–æ—Ä –∑ TinyMCE\n  const renderEditor = () => {\n    return (\n      <div className={`editable-element-editor ${className}`}>\n        <div className=\"editor-toolbar\">\n          <button onClick={handleSave} className=\"btn-save\">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>\n          <button onClick={handleCancel} className=\"btn-cancel\">‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏</button>\n        </div>\n        \n        <Editor\n          apiKey=\"no-api-key\" // –ë–µ–∑ –∫–ª—é—á–∞ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è\n          value={currentContent}\n          onEditorChange={setCurrentContent}\n          init={{\n            height: 500,\n            menubar: true,\n            plugins: [\n              'advlist', 'autolink', 'lists', 'link', 'image', 'charmap', 'preview',\n              'anchor', 'searchreplace', 'visualblocks', 'code', 'fullscreen',\n              'insertdatetime', 'media', 'table', 'code', 'help', 'wordcount'\n            ],\n            toolbar: 'undo redo | blocks | bold italic underline | ' +\n              'alignleft aligncenter alignright alignjustify | ' +\n              'bullist numlist outdent indent | link image | ' +\n              'forecolor backcolor | table | code | fullscreen | help',\n            content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:16px; line-height:1.6; } h1, h2, h3 { margin: 20px 0 10px 0; } p { margin: 10px 0; }',\n            images_upload_handler: async (blobInfo) => {\n              return new Promise((resolve, reject) => {\n                // –ü—Ä–æ—Å—Ç–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –Ω–∞—à—É —Å–∏—Å—Ç–µ–º—É\n                const formData = new FormData();\n                formData.append('image', blobInfo.blob(), blobInfo.filename());\n                \n                fetch('http://localhost:5000/api/upload', {\n                  method: 'POST',\n                  body: formData\n                })\n                .then(response => response.json())\n                .then(data => resolve(data.url))\n                .catch(() => reject('Upload failed'));\n              });\n            }\n          }}\n        />\n      </div>\n    );\n  };\n\n  return isEditing ? renderEditor() : renderContent();\n};\n\nexport default EditableElement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}