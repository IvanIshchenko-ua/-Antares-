{"ast":null,"code":"import _objectSpread from\"/Users/ivanisenko/Desktop/Narnia/\\u0440\\u043E\\u0431\\u043E\\u0442\\u0430/\\u041D\\u0435 \\u0437\\u0430\\u043A\\u0456\\u043D\\u0447\\u0435\\u043D\\u0456 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0438/\\u041C\\u0430\\u043C\\u0430 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442 \\u0448\\u043A\\u043E\\u043B\\u0430/-Antares-/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{transparencyService}from'../../services/transparencyService';import RichTextEditor from'../editor/RichTextEditor';import'./TransparencyManagement.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TransparencyManagement=()=>{const[sections,setSections]=useState([]);const[loading,setLoading]=useState(true);const[editingSection,setEditingSection]=useState(null);const[saveStatus,setSaveStatus]=useState('');const[error,setError]=useState('');useEffect(()=>{loadSections();},[]);const loadSections=async()=>{try{setLoading(true);setError('');const data=await transparencyService.getAll();setSections(data);}catch(error){console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–æ–∑–¥—ñ–ª—ñ–≤:',error);setError('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–æ–∑–¥—ñ–ª–∏ –ø—Ä–æ–∑–æ—Ä–æ—Å—Ç—ñ');}finally{setLoading(false);}};const handleEdit=section=>{setEditingSection(_objectSpread(_objectSpread({},section),{},{documents:section.documents||[]}));};const handleContentChange=content=>{setEditingSection(prev=>_objectSpread(_objectSpread({},prev),{},{content:content}));};const handleFileUpload=async event=>{const files=Array.from(event.target.files);if(!files.length)return;try{setSaveStatus('‚è≥ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤...');const uploadedDocuments=[];for(const file of files){const formData=new FormData();formData.append('image',file);// —Ç–æ–π —Å–∞–º–∏–π –∫–ª—é—á, —â–æ –π —É –≥–∞–ª–µ—Ä–µ—ó\nformData.append('title',file.name);formData.append('category','transparency');const uploadResponse=await transparencyService.uploadDocument(formData);if(uploadResponse&&uploadResponse.success){uploadedDocuments.push({name:file.name,url:uploadResponse.url,filename:uploadResponse.filename,type:file.type,size:file.size,uploadDate:new Date().toISOString()});}}setEditingSection(prev=>_objectSpread(_objectSpread({},prev),{},{documents:[...(prev.documents||[]),...uploadedDocuments]}));setSaveStatus(\"\\u2705 \\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043E \".concat(uploadedDocuments.length,\" \\u0444\\u0430\\u0439\\u043B\\u0456\\u0432\"));setTimeout(()=>setSaveStatus(''),3000);}catch(error){console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ —É R2:',error);setSaveStatus('‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª–∏');setTimeout(()=>setSaveStatus(''),3000);}finally{event.target.value='';}};const removeDocument=index=>{setEditingSection(prev=>_objectSpread(_objectSpread({},prev),{},{documents:prev.documents.filter((_,i)=>i!==index)}));};const handleSave=async()=>{if(!editingSection)return;try{setSaveStatus('–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è...');await transparencyService.update(editingSection.section_type,{title:editingSection.title,content:editingSection.content,documents:editingSection.documents||[]});setSaveStatus('‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!');setTimeout(()=>setSaveStatus(''),3000);// –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫\nloadSections();setEditingSection(null);}catch(error){console.error('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:',error);setSaveStatus('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è');setTimeout(()=>setSaveStatus(''),3000);}};const handleCancel=()=>{setEditingSection(null);setSaveStatus('');};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"transparency-management\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F \\u043A\\u043E\\u043D\\u0442\\u0435\\u043D\\u0442\\u0443 \\u0434\\u043B\\u044F \\u0440\\u043E\\u0437\\u0434\\u0456\\u043B\\u0456\\u0432 \\u043F\\u0440\\u043E\\u0437\\u043E\\u0440\\u043E\\u0441\\u0442\\u0456 \\u0442\\u0430 \\u0456\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0456\\u0439\\u043D\\u043E\\u0457 \\u0432\\u0456\\u0434\\u043A\\u0440\\u0438\\u0442\\u043E\\u0441\\u0442\\u0456\"})}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[error,/*#__PURE__*/_jsx(\"button\",{onClick:loadSections,className:\"retry-btn\",children:\"\\u0421\\u043F\\u0440\\u043E\\u0431\\u0443\\u0432\\u0430\\u0442\\u0438 \\u0437\\u043D\\u043E\\u0432\\u0443\"})]}),saveStatus&&/*#__PURE__*/_jsx(\"div\",{className:\"alert \".concat(saveStatus.includes('‚úÖ')?'alert-success':saveStatus.includes('–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è')?'alert-info':'alert-danger'),children:saveStatus}),editingSection?/*#__PURE__*/_jsxs(\"div\",{className:\"editor-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editor-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F: \",editingSection.title]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editor-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleCancel,children:\"\\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleSave,children:\"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438 \\u0437\\u043C\\u0456\\u043D\\u0438\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-editor\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041A\\u043E\\u043D\\u0442\\u0435\\u043D\\u0442:\"}),/*#__PURE__*/_jsx(RichTextEditor,{value:editingSection.content||'',onChange:handleContentChange,height:\"400px\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"documents-section\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0438 (\\u0442\\u0438\\u043C\\u0447\\u0430\\u0441\\u043E\\u0432\\u0435 \\u0437\\u0431\\u0435\\u0440\\u0456\\u0433\\u0430\\u043D\\u043D\\u044F):\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"documents-upload\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,onChange:handleFileUpload,className:\"file-input\",accept:\".pdf,.doc,.docx,.jpg,.jpeg,.png\"}),/*#__PURE__*/_jsx(\"small\",{className:\"upload-hint\",children:\"\\u0424\\u0430\\u0439\\u043B\\u0438 \\u0437\\u0431\\u0435\\u0440\\u0456\\u0433\\u0430\\u044E\\u0442\\u044C\\u0441\\u044F \\u0442\\u0438\\u043C\\u0447\\u0430\\u0441\\u043E\\u0432\\u043E. \\u0414\\u043B\\u044F \\u043F\\u043E\\u0441\\u0442\\u0456\\u0439\\u043D\\u043E\\u0433\\u043E \\u0437\\u0431\\u0435\\u0440\\u0456\\u0433\\u0430\\u043D\\u043D\\u044F \\u043F\\u043E\\u0442\\u0440\\u0456\\u0431\\u043D\\u043E \\u043D\\u0430\\u043B\\u0430\\u0448\\u0442\\u0443\\u0432\\u0430\\u0442\\u0438 \\u0441\\u0435\\u0440\\u0432\\u0435\\u0440\\u043D\\u0435 \\u0437\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F.\"})]}),editingSection.documents&&editingSection.documents.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"documents-list\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0414\\u043E\\u0434\\u0430\\u043D\\u0456 \\u0444\\u0430\\u0439\\u043B\\u0438:\"}),editingSection.documents.map((doc,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"document-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"document-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"document-name\",children:doc.name}),/*#__PURE__*/_jsx(\"span\",{className:\"document-size\",children:formatFileSize(doc.size)}),/*#__PURE__*/_jsx(\"span\",{className:\"document-date\",children:new Date(doc.uploadDate).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"document-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-danger\",onClick:()=>removeDocument(index),children:\"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"})})]},index))]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"sections-grid\",children:sections.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-sections\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0420\\u043E\\u0437\\u0434\\u0456\\u043B\\u0438 \\u043F\\u0440\\u043E\\u0437\\u043E\\u0440\\u043E\\u0441\\u0442\\u0456 \\u043D\\u0435 \\u0437\\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0456.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loadSections,className:\"btn btn-primary\",children:\"\\u041E\\u043D\\u043E\\u0432\\u0438\\u0442\\u0438\"})]}):sections.map(section=>/*#__PURE__*/_jsxs(\"div\",{className:\"transparency-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:section.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-status\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(section.content?'active':'empty'),children:section.content?'–ù–∞–ø–æ–≤–Ω–µ–Ω–∏–π':'–ü–æ—Ä–æ–∂–Ω—ñ–π'}),section.documents&&section.documents.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"documents-count\",children:[\"\\uD83D\\uDCCE \",section.documents.length]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:section.content?/*#__PURE__*/_jsx(\"div\",{className:\"content-preview\",dangerouslySetInnerHTML:{__html:section.content.substring(0,200)+'...'}}):/*#__PURE__*/_jsx(\"p\",{className:\"empty-state\",children:\"\\u041A\\u043E\\u043D\\u0442\\u0435\\u043D\\u0442 \\u0449\\u0435 \\u043D\\u0435 \\u0434\\u043E\\u0434\\u0430\\u043D\\u043E\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleEdit(section),children:\"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438\"})})]},section.id))})]});};// –î–æ–ø–æ–º—ñ–∂–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É —Ñ–∞–π–ª—É\nconst formatFileSize=bytes=>{if(!bytes)return'0 B';const k=1024;const sizes=['B','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};export default TransparencyManagement;","map":{"version":3,"names":["React","useState","useEffect","transparencyService","RichTextEditor","jsx","_jsx","jsxs","_jsxs","TransparencyManagement","sections","setSections","loading","setLoading","editingSection","setEditingSection","saveStatus","setSaveStatus","error","setError","loadSections","data","getAll","console","handleEdit","section","_objectSpread","documents","handleContentChange","content","prev","handleFileUpload","event","files","Array","from","target","length","uploadedDocuments","file","formData","FormData","append","name","uploadResponse","uploadDocument","success","push","url","filename","type","size","uploadDate","Date","toISOString","concat","setTimeout","value","removeDocument","index","filter","_","i","handleSave","update","section_type","title","handleCancel","className","children","onClick","includes","onChange","height","multiple","accept","map","doc","formatFileSize","toLocaleDateString","dangerouslySetInnerHTML","__html","substring","id","bytes","k","sizes","Math","floor","log","parseFloat","pow","toFixed"],"sources":["/Users/ivanisenko/Desktop/Narnia/—Ä–æ–±–æ—Ç–∞/–ù–µ –∑–∞–∫—ñ–Ω—á–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏/–ú–∞–º–∞ –ø—Ä–æ–µ–∫—Ç —à–∫–æ–ª–∞/-Antares-/Frontend/src/components/admin/TransparencyManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { transparencyService } from '../../services/transparencyService';\nimport RichTextEditor from '../editor/RichTextEditor';\nimport './TransparencyManagement.css';\n\nconst TransparencyManagement = () => {\n  const [sections, setSections] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editingSection, setEditingSection] = useState(null);\n  const [saveStatus, setSaveStatus] = useState('');\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    loadSections();\n  }, []);\n\n  const loadSections = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const data = await transparencyService.getAll();\n      setSections(data);\n    } catch (error) {\n      console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–æ–∑–¥—ñ–ª—ñ–≤:', error);\n      setError('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–æ–∑–¥—ñ–ª–∏ –ø—Ä–æ–∑–æ—Ä–æ—Å—Ç—ñ');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (section) => {\n    setEditingSection({ \n      ...section,\n      documents: section.documents || []\n    });\n  };\n\n  const handleContentChange = (content) => {\n    setEditingSection(prev => ({\n      ...prev,\n      content: content\n    }));\n  };\n\nconst handleFileUpload = async (event) => {\n  const files = Array.from(event.target.files);\n  if (!files.length) return;\n\n  try {\n    setSaveStatus('‚è≥ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤...');\n    const uploadedDocuments = [];\n\n    for (const file of files) {\n      const formData = new FormData();\n      formData.append('image', file); // —Ç–æ–π —Å–∞–º–∏–π –∫–ª—é—á, —â–æ –π —É –≥–∞–ª–µ—Ä–µ—ó\n      formData.append('title', file.name);\n      formData.append('category', 'transparency');\n\n      const uploadResponse = await transparencyService.uploadDocument(formData);\n\n      if (uploadResponse && uploadResponse.success) {\n        uploadedDocuments.push({\n          name: file.name,\n          url: uploadResponse.url,\n          filename: uploadResponse.filename,\n          type: file.type,\n          size: file.size,\n          uploadDate: new Date().toISOString(),\n        });\n      }\n    }\n\n    setEditingSection(prev => ({\n      ...prev,\n      documents: [...(prev.documents || []), ...uploadedDocuments],\n    }));\n\n    setSaveStatus(`‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ ${uploadedDocuments.length} —Ñ–∞–π–ª—ñ–≤`);\n    setTimeout(() => setSaveStatus(''), 3000);\n  } catch (error) {\n    console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ —É R2:', error);\n    setSaveStatus('‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª–∏');\n    setTimeout(() => setSaveStatus(''), 3000);\n  } finally {\n    event.target.value = '';\n  }\n};\n\n  const removeDocument = (index) => {\n    setEditingSection(prev => ({\n      ...prev,\n      documents: prev.documents.filter((_, i) => i !== index)\n    }));\n  };\n\n  const handleSave = async () => {\n    if (!editingSection) return;\n\n    try {\n      setSaveStatus('–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è...');\n      await transparencyService.update(editingSection.section_type, {\n        title: editingSection.title,\n        content: editingSection.content,\n        documents: editingSection.documents || []\n      });\n      \n      setSaveStatus('‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!');\n      setTimeout(() => setSaveStatus(''), 3000);\n      \n      // –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫\n      loadSections();\n      setEditingSection(null);\n    } catch (error) {\n      console.error('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:', error);\n      setSaveStatus('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è');\n      setTimeout(() => setSaveStatus(''), 3000);\n    }\n  };\n\n  const handleCancel = () => {\n    setEditingSection(null);\n    setSaveStatus('');\n  };\n\n  if (loading) return <div className=\"loading\">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>;\n\n  return (\n    <div className=\"transparency-management\">\n      <div className=\"page-header\">\n        <p>–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É –¥–ª—è —Ä–æ–∑–¥—ñ–ª—ñ–≤ –ø—Ä–æ–∑–æ—Ä–æ—Å—Ç—ñ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–æ—ó –≤—ñ–¥–∫—Ä–∏—Ç–æ—Å—Ç—ñ</p>\n      </div>\n\n      {error && (\n        <div className=\"alert alert-danger\">\n          {error}\n          <button onClick={loadSections} className=\"retry-btn\">\n            –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑–Ω–æ–≤—É\n          </button>\n        </div>\n      )}\n\n      {saveStatus && (\n        <div className={`alert ${saveStatus.includes('‚úÖ') ? 'alert-success' : saveStatus.includes('–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è') ? 'alert-info' : 'alert-danger'}`}>\n          {saveStatus}\n        </div>\n      )}\n\n      {editingSection ? (\n        <div className=\"editor-section\">\n          <div className=\"editor-header\">\n            <h2>–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è: {editingSection.title}</h2>\n            <div className=\"editor-actions\">\n              <button className=\"btn btn-secondary\" onClick={handleCancel}>\n                –°–∫–∞—Å—É–≤–∞—Ç–∏\n              </button>\n              <button className=\"btn btn-primary\" onClick={handleSave}>\n                –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"content-editor\">\n            <label>–ö–æ–Ω—Ç–µ–Ω—Ç:</label>\n            <RichTextEditor\n              value={editingSection.content || ''}\n              onChange={handleContentChange}\n              height=\"400px\"\n            />\n          </div>\n\n          <div className=\"documents-section\">\n            <label>–î–æ–∫—É–º–µ–Ω—Ç–∏ (—Ç–∏–º—á–∞—Å–æ–≤–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è):</label>\n            <div className=\"documents-upload\">\n             <input\n              type=\"file\"\n               multiple\n                onChange={handleFileUpload}\n                className=\"file-input\"\n                accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                />\n              <small className=\"upload-hint\">\n                –§–∞–π–ª–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Ç–∏–º—á–∞—Å–æ–≤–æ. –î–ª—è –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Å–µ—Ä–≤–µ—Ä–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.\n              </small>\n            </div>\n\n            {editingSection.documents && editingSection.documents.length > 0 && (\n              <div className=\"documents-list\">\n                <h4>–î–æ–¥–∞–Ω—ñ —Ñ–∞–π–ª–∏:</h4>\n                {editingSection.documents.map((doc, index) => (\n                  <div key={index} className=\"document-item\">\n                    <div className=\"document-info\">\n                      <span className=\"document-name\">{doc.name}</span>\n                      <span className=\"document-size\">{formatFileSize(doc.size)}</span>\n                      <span className=\"document-date\">{new Date(doc.uploadDate).toLocaleDateString()}</span>\n                    </div>\n                    <div className=\"document-actions\">\n                      <button\n                        className=\"btn btn-sm btn-outline-danger\"\n                        onClick={() => removeDocument(index)}\n                      >\n                        –í–∏–¥–∞–ª–∏—Ç–∏\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      ) : (\n        <div className=\"sections-grid\">\n          {sections.length === 0 ? (\n            <div className=\"no-sections\">\n              <p>–†–æ–∑–¥—ñ–ª–∏ –ø—Ä–æ–∑–æ—Ä–æ—Å—Ç—ñ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω—ñ.</p>\n              <button onClick={loadSections} className=\"btn btn-primary\">\n                –û–Ω–æ–≤–∏—Ç–∏\n              </button>\n            </div>\n          ) : (\n            sections.map(section => (\n              <div key={section.id} className=\"transparency-card\">\n                <div className=\"card-header\">\n                  <h3>{section.title}</h3>\n                  <div className=\"card-status\">\n                    <span className={`status ${section.content ? 'active' : 'empty'}`}>\n                      {section.content ? '–ù–∞–ø–æ–≤–Ω–µ–Ω–∏–π' : '–ü–æ—Ä–æ–∂–Ω—ñ–π'}\n                    </span>\n                    {section.documents && section.documents.length > 0 && (\n                      <span className=\"documents-count\">\n                        üìé {section.documents.length}\n                      </span>\n                    )}\n                  </div>\n                </div>\n                \n                <div className=\"card-content\">\n                  {section.content ? (\n                    <div \n                      className=\"content-preview\"\n                      dangerouslySetInnerHTML={{ __html: section.content.substring(0, 200) + '...' }}\n                    />\n                  ) : (\n                    <p className=\"empty-state\">–ö–æ–Ω—Ç–µ–Ω—Ç —â–µ –Ω–µ –¥–æ–¥–∞–Ω–æ</p>\n                  )}\n                </div>\n                \n                <div className=\"card-actions\">\n                  <button \n                    className=\"btn btn-primary\"\n                    onClick={() => handleEdit(section)}\n                  >\n                    –†–µ–¥–∞–≥—É–≤–∞—Ç–∏\n                  </button>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// –î–æ–ø–æ–º—ñ–∂–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É —Ñ–∞–π–ª—É\nconst formatFileSize = (bytes) => {\n  if (!bytes) return '0 B';\n  const k = 1024;\n  const sizes = ['B', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n};\n\nexport default TransparencyManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}