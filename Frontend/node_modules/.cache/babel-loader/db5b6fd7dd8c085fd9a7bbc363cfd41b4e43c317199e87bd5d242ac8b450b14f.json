{"ast":null,"code":"import api from './api';\nconst galleryService = {\n  // Отримати всі фото галереї\n  getGalleryImages: async () => {\n    try {\n      const response = await api.get('/gallery');\n      return response.data;\n    } catch (error) {\n      console.error('Помилка отримання фото:', error);\n      // Якщо API не доступне, повертаємо тестові дані\n      return {\n        images: [{\n          id: 1,\n          title: 'Урок гри на фортепіано',\n          description: 'Заняття з учнями',\n          image_url: '/img/gallery1.jpg',\n          category: 'classes',\n          created_at: new Date().toISOString()\n        }, {\n          id: 2,\n          title: 'Малювання аквареллю',\n          description: 'Художній гурток',\n          image_url: '/img/gallery2.jpg',\n          category: 'classes',\n          created_at: new Date().toISOString()\n        }]\n      };\n    }\n  },\n  // Завантажити нове фото\n  uploadGalleryImage: async formData => {\n    try {\n      console.log('Початок завантаження фото...');\n\n      // Спочатку завантажуємо файл\n      const uploadResponse = await api.post('/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      console.log('Файл завантажено:', uploadResponse.data);\n\n      // Потім створюємо запис в галереї\n      const imageData = {\n        title: formData.get('title'),\n        description: formData.get('description'),\n        image_url: uploadResponse.data.url,\n        category: formData.get('category')\n      };\n      console.log('Створюємо запис в галереї:', imageData);\n      const galleryResponse = await api.post('/gallery', imageData);\n      return galleryResponse.data;\n    } catch (error) {\n      console.error('Помилка завантаження фото:', error);\n      throw error;\n    }\n  },\n  // Видалити фото\n  deleteGalleryImage: async imageId => {\n    try {\n      const response = await api.delete(`/gallery/${imageId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Помилка видалення фото:', error);\n      throw error;\n    }\n  }\n};\nexport default galleryService;","map":{"version":3,"names":["api","galleryService","getGalleryImages","response","get","data","error","console","images","id","title","description","image_url","category","created_at","Date","toISOString","uploadGalleryImage","formData","log","uploadResponse","post","headers","imageData","url","galleryResponse","deleteGalleryImage","imageId","delete"],"sources":["/Users/ivanisenko/Desktop/Narnia/робота/Не закінчені проекти/Мама проект школа/-Antares-/Frontend/src/services/galleryService.js"],"sourcesContent":["import api from './api';\n\nconst galleryService = {\n  // Отримати всі фото галереї\n  getGalleryImages: async () => {\n    try {\n      const response = await api.get('/gallery');\n      return response.data;\n    } catch (error) {\n      console.error('Помилка отримання фото:', error);\n      // Якщо API не доступне, повертаємо тестові дані\n      return { \n        images: [\n          { \n            id: 1, \n            title: 'Урок гри на фортепіано',\n            description: 'Заняття з учнями',\n            image_url: '/img/gallery1.jpg',\n            category: 'classes',\n            created_at: new Date().toISOString()\n          },\n          { \n            id: 2, \n            title: 'Малювання аквареллю',\n            description: 'Художній гурток',\n            image_url: '/img/gallery2.jpg',\n            category: 'classes',\n            created_at: new Date().toISOString()\n          }\n        ] \n      };\n    }\n  },\n\n  // Завантажити нове фото\n  uploadGalleryImage: async (formData) => {\n    try {\n      console.log('Початок завантаження фото...');\n      \n      // Спочатку завантажуємо файл\n      const uploadResponse = await api.post('/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      console.log('Файл завантажено:', uploadResponse.data);\n\n      // Потім створюємо запис в галереї\n      const imageData = {\n        title: formData.get('title'),\n        description: formData.get('description'),\n        image_url: uploadResponse.data.url,\n        category: formData.get('category')\n      };\n\n      console.log('Створюємо запис в галереї:', imageData);\n      \n      const galleryResponse = await api.post('/gallery', imageData);\n      return galleryResponse.data;\n    } catch (error) {\n      console.error('Помилка завантаження фото:', error);\n      throw error;\n    }\n  },\n\n  // Видалити фото\n  deleteGalleryImage: async (imageId) => {\n    try {\n      const response = await api.delete(`/gallery/${imageId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Помилка видалення фото:', error);\n      throw error;\n    }\n  }\n};\n\nexport default galleryService;"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,cAAc,GAAG;EACrB;EACAC,gBAAgB,EAAE,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAC,UAAU,CAAC;MAC1C,OAAOD,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C;MACA,OAAO;QACLE,MAAM,EAAE,CACN;UACEC,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,wBAAwB;UAC/BC,WAAW,EAAE,kBAAkB;UAC/BC,SAAS,EAAE,mBAAmB;UAC9BC,QAAQ,EAAE,SAAS;UACnBC,UAAU,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;QACrC,CAAC,EACD;UACEP,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,qBAAqB;UAC5BC,WAAW,EAAE,iBAAiB;UAC9BC,SAAS,EAAE,mBAAmB;UAC9BC,QAAQ,EAAE,SAAS;UACnBC,UAAU,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;QACrC,CAAC;MAEL,CAAC;IACH;EACF,CAAC;EAED;EACAC,kBAAkB,EAAE,MAAOC,QAAQ,IAAK;IACtC,IAAI;MACFX,OAAO,CAACY,GAAG,CAAC,8BAA8B,CAAC;;MAE3C;MACA,MAAMC,cAAc,GAAG,MAAMpB,GAAG,CAACqB,IAAI,CAAC,SAAS,EAAEH,QAAQ,EAAE;QACzDI,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEFf,OAAO,CAACY,GAAG,CAAC,mBAAmB,EAAEC,cAAc,CAACf,IAAI,CAAC;;MAErD;MACA,MAAMkB,SAAS,GAAG;QAChBb,KAAK,EAAEQ,QAAQ,CAACd,GAAG,CAAC,OAAO,CAAC;QAC5BO,WAAW,EAAEO,QAAQ,CAACd,GAAG,CAAC,aAAa,CAAC;QACxCQ,SAAS,EAAEQ,cAAc,CAACf,IAAI,CAACmB,GAAG;QAClCX,QAAQ,EAAEK,QAAQ,CAACd,GAAG,CAAC,UAAU;MACnC,CAAC;MAEDG,OAAO,CAACY,GAAG,CAAC,4BAA4B,EAAEI,SAAS,CAAC;MAEpD,MAAME,eAAe,GAAG,MAAMzB,GAAG,CAACqB,IAAI,CAAC,UAAU,EAAEE,SAAS,CAAC;MAC7D,OAAOE,eAAe,CAACpB,IAAI;IAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAMA,KAAK;IACb;EACF,CAAC;EAED;EACAoB,kBAAkB,EAAE,MAAOC,OAAO,IAAK;IACrC,IAAI;MACF,MAAMxB,QAAQ,GAAG,MAAMH,GAAG,CAAC4B,MAAM,CAAC,YAAYD,OAAO,EAAE,CAAC;MACxD,OAAOxB,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACb;EACF;AACF,CAAC;AAED,eAAeL,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}